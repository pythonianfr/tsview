<!doctype html>
<html>
    <head>
        <meta charset="utf-8">
        <link
            href="./tsview_static/formula_elm.css"
            rel="stylesheet"/>
        <script
            src="./tsview_static/ace.js"
            type="text/javascript"
            charset="utf-8">
        </script>
        <link href="{{ url_for('tsview.static', filename='bootstrap.min.css')}}" rel="stylesheet"/>
        <script
            src="https://unpkg.com/@webcomponents/custom-elements@1.4.1/custom-elements.min.js">
        </script>
        <script src="./tsview_static/ace_editor.js"></script>
        <script src="https://cdn.plot.ly/plotly-1.50.1.min.js"></script>
        <link href="{{ url_for('tsview.static', filename='menu_stand_alone.css')}}"
              rel="stylesheet"/>
        <link href="{{ url_for('tsview.static', filename='style.css')}}"
              rel="stylesheet"/>
        <script src="{{ url_for('tsview.static', filename='menu_stand_alone_elm.js')}}"></script>
        {% set function_type = 'formula' %}
        {% include "plot_figure.js.html" %}
        <title>{{title}}</title>
    </head>
    <body>
        <div class="grid-container">
            <div id="menu-elm"></div>
            <div class="main-content">
                <div id="app"></div>
            </div>
        </div>
        <script src="./tsview_static/formula_elm.js"></script>
        <script>
         var app = Elm.Editor.UI.Main.init({
             node: document.getElementById("app"),
             flags: {
                 urlPrefix : "{{ homeurl }}",
                 jsonSpec : {{ spec | safe }},
                 formula : {{ formula | safe }},
                 returnTypeStr : "Series"
             }
         });
        </script>
        <script>
         var menuapp = Elm.StandAloneMenu.init({
             node: document.getElementById('menu-elm'),
             flags: {{flags_menu | safe}}
         });
        </script>
        {% include "menu_stand_alone.html" %}
    </body>
</html>
